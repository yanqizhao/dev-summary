# 10.9 本地通知

## 一日一技

`Shift + Cmd + .` 显示隐藏文件

## 本地通知

### 关于时间的文章

[NSDate](https://my.oschina.net/yongbin45/blog/150114)
[NSDateFormatter](https://my.oschina.net/yongbin45/blog/150667)
[NSTimeZone](https://my.oschina.net/yongbin45/blog/151376)
[NSLocale](https://my.oschina.net/yongbin45/blog/156130)
[NSDateComponents](http://nshipster.cn/nsdatecomponents/)

### 本地通知属性

userInfo中的内容：

```
<UIConcreteLocalNotification: 0x1788c8b0>{
fire date = (null), 
time zone = (null), 
repeat interval = 0, 
repeat count = UILocalNotificationInfiniteRepeatCount, 
next fire date = 2016年10月9日 星期日 中国标准时间14:41:26, 
user info = {
}}
```

### 应用各状态调用的方法

* 应用启动
didFinishLaunchingWithOptions
**applicationDidBecomeActive**

* 应用退到后台
applicationWillResignActive
**applicationDidEnterBackground**

* 应用进入前台
applicationWillEnterForeground
**applicationDidBecomeActive**

* 应用杀死

	* 前台杀死
	
	applicationWillResignActive
	**applicationDidEnterBackground**
	applicationWillTerminate
	
	* 后台杀死
	
	applicationWillTerminate

### 激活用户的本地通知逻辑

应用进入前台->取消所有通知（排除下载完成的通知）
应用进入后台->开始计时
计时到第三个自然天->判断是否工作日：工作日11：45 非工作日20：45，推送数+1
按照推送数推送不同文案，推送数超过8，停止推送

#### 要解决的问题

* 自然天的判断
* 工作日的判断
* 排除下载完成的通知

